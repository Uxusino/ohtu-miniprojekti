{% extends "layout.html" %}

{% block title %}
Uusi viite
{% endblock %}

{% block body %}

<h2>Uuden book-viitteen luominen</h2>

<form action="/create_reference" method="post" style="display: inline-block;" onsubmit="return validateForm()">
  <!-- REQUIRED -->

  <!-- <label for="reference_type" style="display: inline-block; width: 200px;">Valitse viitteen tyyppi:</label> -->
  <div id="required_fields">

    Authors:
    <ul id="author_list">
      <!-- Authors will be added here dynamically -->
    </ul>
    
    <input type="hidden" id="author" name="author">
    <input type="text" id="first_name">
    <input type="text" id="last_name">

    <button type="button" id="add_author_button">Lis채채 author</button>
    <br>

    <label for="title" style="display: inline-block; width: 200px;">Title:</label>
    <input type="text" name="title" required>
    <br>

    <label for="publisher" style="display: inline-block; width: 200px;">Publisher:</label>
    <input type="text" name="publisher" required>
    <br>

    <label for="year" style="display: inline-block; width: 200px;">Year:</label>
    <input type="number" id="year" name="year" required min="1000">
    <br>
  </div>

  <!-- OPTIONAL -->

  <div id="optional_fields" style="display: none">
    <label for="address" style="display: inline-block; width: 200px;">Address:</label>
    <input type="text" name="address">
    <br>

    <label for="volume" style="display: inline-block; width: 200px;">Volume/Number:</label>
    <input type="text" name="volume">
    <br>

    <label for="series" style="display: inline-block; width: 200px;">Series:</label>
    <input type="text" name="series">
    <br>

    <label for="edition" style="display: inline-block; width: 200px;">Edition:</label>
    <input type="text" name="edition">
    <br>

    <label for="month" style="display: inline-block; width: 200px;">Month:</label>
    <input type="text" name="month">
    <br>

    <label for="note" style="display: inline-block; width: 200px;">Note:</label>
    <input type="text" name="note">
    <br>

    <label for="url" style="display: inline-block; width: 200px;">URL:</label>
    <input type="url" name="url">
    <br>
  </div>

  <button type="button" id="toggle_optionals_button">N채yt채 valinnaiset</button>

  <button type="submit">
    Tallenna
  </button>
</form>
<script>set_current_year_as_max("year")</script>
<script>createReferenceFormButtons()</script>

{% endblock %}
